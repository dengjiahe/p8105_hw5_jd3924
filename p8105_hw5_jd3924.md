p8105_hw5_jd3924
================
Jiahe Deng
2022-11-07

``` r
library(tidyverse)
```

    ## ── Attaching packages ─────────────────────────────────────── tidyverse 1.3.2 ──
    ## ✔ ggplot2 3.3.6      ✔ purrr   0.3.5 
    ## ✔ tibble  3.1.8      ✔ dplyr   1.0.10
    ## ✔ tidyr   1.2.1      ✔ stringr 1.4.1 
    ## ✔ readr   2.1.3      ✔ forcats 0.5.2 
    ## ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
    ## ✖ dplyr::filter() masks stats::filter()
    ## ✖ dplyr::lag()    masks stats::lag()

``` r
urlfile = "https://raw.githubusercontent.com/washingtonpost/data-homicides/master/homicide-data.csv"
homicides_data = read_csv(url(urlfile), na = c(" ", "Unknown"))
```

    ## Warning: One or more parsing issues, call `problems()` on your data frame for details,
    ## e.g.:
    ##   dat <- vroom(...)
    ##   problems(dat)

    ## Rows: 52179 Columns: 12
    ## ── Column specification ────────────────────────────────────────────────────────
    ## Delimiter: ","
    ## chr (8): uid, victim_last, victim_first, victim_race, victim_sex, city, stat...
    ## dbl (4): reported_date, victim_age, lat, lon
    ## 
    ## ℹ Use `spec()` to retrieve the full column specification for this data.
    ## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.

``` r
#Conduct a hypothesis T test for n = 30, sigma = 5
sim_funct = function( 
    n = 30, 
    mu = 0,
    sigma = 5) {
  x = rnorm(n, mean = mu, sd = sigma)
  t_test = t.test(x, conf.int = 0.95) %>% broom::tidy()
  
  t_test
}
output = vector("list",5000) #Generate 5000 datasets for mu=0
for (i in 1: 5000) {
  output[[i]] = sim_funct()
}
output %>% bind_rows()
```

    ## # A tibble: 5,000 × 8
    ##    estimate statistic p.value parameter conf.low conf.high method        alter…¹
    ##       <dbl>     <dbl>   <dbl>     <dbl>    <dbl>     <dbl> <chr>         <chr>  
    ##  1   -0.920    -0.786   0.439        29   -3.32      1.48  One Sample t… two.si…
    ##  2    0.337     0.388   0.701        29   -1.44      2.12  One Sample t… two.si…
    ##  3    0.869     0.998   0.327        29   -0.913     2.65  One Sample t… two.si…
    ##  4    0.417     0.432   0.669        29   -1.56      2.39  One Sample t… two.si…
    ##  5    0.782     0.908   0.371        29   -0.979     2.54  One Sample t… two.si…
    ##  6    0.154     0.176   0.862        29   -1.64      1.95  One Sample t… two.si…
    ##  7   -0.809    -1.03    0.314        29   -2.42      0.804 One Sample t… two.si…
    ##  8   -0.702    -0.812   0.423        29   -2.47      1.07  One Sample t… two.si…
    ##  9    0.529     0.586   0.563        29   -1.32      2.38  One Sample t… two.si…
    ## 10   -0.266    -0.343   0.734        29   -1.85      1.32  One Sample t… two.si…
    ## # … with 4,990 more rows, and abbreviated variable name ¹​alternative

``` r
#mu={1,2,3,4,5,6}
```
